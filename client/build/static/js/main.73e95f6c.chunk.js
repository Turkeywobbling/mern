(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(11),s=n.n(a),i=n(2),o=(n(16),n(6)),l=n(0);function j(){return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(l.jsx)(o.c,{className:"navbar-brand",to:"/",children:Object(l.jsx)("img",{style:{width:"25%"},src:"https://d3cy9zhslanhfa.cloudfront.net/media/3800C044-6298-4575-A05D5C6B7623EE37/4B45D0EC-3482-4759-82DA37D8EA07D229/webimage-8A27671A-8A53-45DC-89D7BF8537F15A0D.png"})}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(l.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.c,{className:"nav-link",to:"/create",children:"Create Record"})})})})]})})}var u=n(5),d=n.n(u),b=n(7),h=n(4),p=function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.record.name}),Object(l.jsx)("td",{children:e.record.intro}),Object(l.jsxs)("td",{children:[Object(l.jsx)(o.b,{className:"btn btn-link",to:"/edit/".concat(e.record._id),children:"Edit"})," |",Object(l.jsx)("button",{className:"btn btn-link",onClick:function(){e.deleteRecord(e.record._id)},children:"Delete"})]})]})};function O(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/".concat(t),{method:"DELETE"});case 2:r=n.filter((function(e){return e._id!==t})),c(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/record/");case 2:if((t=e.sent).ok){e.next=7;break}return n="An error occured: ".concat(t.statusText),window.alert(n),e.abrupt("return");case 7:return e.next=9,t.json();case 9:r=e.sent,c(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.length]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Record List"}),Object(l.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"name"}),Object(l.jsx)("th",{children:"intro"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e){return Object(l.jsx)(p,{record:e,deleteRecord:function(){return function(e){return a.apply(this,arguments)}(e._id)}},e._id)}))})]})]})}var x=n(8);function m(){var e=Object(r.useState)({name:"",intro:""}),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(i.g)(),s=Object(i.f)();function o(e){return c((function(t){return Object(x.a)(Object(x.a)({},t),e)}))}function j(){return(j=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={name:n.name,intro:n.intro},e.next=4,fetch("http://localhost:5000/update/".concat(a.id),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:s("/");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(d.a.mark((function e(){var t,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id.toString(),e.next=3,fetch("http://localhost:5000/record/".concat(a.id.toString()));case 3:if((n=e.sent).ok){e.next=8;break}return r="An error has occured: ".concat(n.statusText),window.alert(r),e.abrupt("return");case 8:return e.next=10,n.json();case 10:if(i=e.sent){e.next=15;break}return window.alert("Record with id ".concat(t," not found")),s("/"),e.abrupt("return");case 15:c(i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a.id,s]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Update Record"}),Object(l.jsxs)("form",{onSubmit:function(e){return j.apply(this,arguments)},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:n.name,onChange:function(e){return o({name:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"intro",children:"intro: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"intro",value:n.intro,onChange:function(e){return o({intro:e.target.value})}})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Update Record",className:"btn btn-primary"})})]})]})}function f(){var e=Object(r.useState)({name:"",intro:""}),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(i.f)();function s(e){return c((function(t){return Object(x.a)(Object(x.a)({},t),e)}))}function o(){return(o=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Object(x.a)({},n),e.next=4,fetch("http://localhost:5000/record/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).catch((function(e){window.alert(e)}));case 4:c({name:"",intro:""}),a("/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Create New Record"}),Object(l.jsxs)("form",{onSubmit:function(e){return o.apply(this,arguments)},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:n.name,onChange:function(e){return s({name:e.target.value})}})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"intro",children:"intro"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"intro",value:n.intro,onChange:function(e){return s({intro:e.target.value})}})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Create person",className:"btn btn-primary"})})]})]})}var v=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsx)("div",{style:{margin:20},children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",element:Object(l.jsx)(O,{})}),Object(l.jsx)(i.a,{path:"/edit/:id",element:Object(l.jsx)(m,{})}),Object(l.jsx)(i.a,{path:"/create",element:Object(l.jsx)(f,{})})]})})]})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(v,{})})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.73e95f6c.chunk.js.map